<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Viksit Mart - Quick Order</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  :root {
    --primary: #ff6600;
    --secondary: #006400;
    --accent: #2980b9;
    --light: #f5f5f5;
    --dark: #333;
  }
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 10px;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    line-height: 1.5;
    overflow-x: hidden;
    width: 100%;
  }
  
  .container {
    width: 100%;
    max-width: 500px;
    background: rgba(255,255,255,0.98);
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.3);
    margin: 10px auto;
    position: relative;
  }
  
  .header {
    text-align: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #f0f0f0;
  }
  
  .header h2 {
    color: var(--primary);
    margin-bottom: 8px;
    font-size: 1.8rem;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  
  .header p {
    color: #666;
    font-size: 0.95rem;
  }
  
  /* Auth Check Screen */
  .auth-check {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 15px;
  }
  
  .auth-check-container {
    background: white;
    border-radius: 20px;
    width: 100%;
    max-width: 350px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    padding: 30px 20px;
    text-align: center;
    animation: modalAppear 0.5s ease-out;
  }
  
  @keyframes modalAppear {
    0% { transform: scale(0.9); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
  
  .auth-check-icon {
    font-size: 3rem;
    color: var(--primary);
    margin-bottom: 15px;
    animation: pulse 1.5s infinite;
  }
  
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }
  
  .auth-check h2 {
    color: var(--dark);
    margin-bottom: 10px;
    font-size: 1.5rem;
  }
  
  .auth-check p {
    color: #666;
    margin-bottom: 20px;
    font-size: 1rem;
  }
  
  /* Not Logged In Message */
  .not-logged-in {
    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
    padding: 15px;
    border-radius: 12px;
    margin: 15px 0;
    border: 2px dashed #ffc107;
    text-align: center;
  }
  
  .not-logged-in h3 {
    color: #856404;
    margin-bottom: 10px;
    font-size: 1.2rem;
  }
  
  .not-logged-in p {
    color: #856404;
    margin-bottom: 12px;
    font-size: 0.9rem;
  }
  
  .signup-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 12px;
  }
  
  .signup-option {
    background: white;
    padding: 10px;
    border-radius: 8px;
    border: 2px solid #e0e0e0;
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: bold;
    color: var(--dark);
    font-size: 0.9rem;
  }
  
  .signup-option i {
    color: var(--primary);
    font-size: 1rem;
  }
  
  /* User Info Display */
  .user-info {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    padding: 12px;
    border-radius: 10px;
    margin: 12px 0;
    border-left: 4px solid var(--accent);
  }
  
  .user-info p {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 4px 0;
    color: var(--dark);
    font-size: 0.9rem;
  }
  
  /* Saved Info Box */
  .saved-info-box {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
    padding: 12px;
    border-radius: 10px;
    margin: 12px 0;
    border-left: 4px solid #28a745;
  }
  
  .saved-info-box h4 {
    color: #155724;
    margin-bottom: 8px;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .saved-details {
    display: grid;
    gap: 6px;
    font-size: 0.85rem;
    color: #155724;
  }
  
  .saved-detail {
    display: flex;
    align-items: center;
    gap: 8px;
    overflow-wrap: break-word;
    word-wrap: break-word;
    word-break: break-word;
  }
  
  .saved-detail i {
    color: #28a745;
    width: 16px;
    flex-shrink: 0;
  }
  
  /* GPS Info */
  .gps-info {
    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
    padding: 12px;
    border-radius: 10px;
    margin: 12px 0;
    border-left: 4px solid #ffc107;
  }
  
  .gps-info h4 {
    color: #856404;
    margin-bottom: 8px;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .gps-info ul {
    padding-left: 18px;
    color: #856404;
    font-size: 0.85rem;
  }
  
  .gps-info li {
    margin-bottom: 6px;
  }
  
  /* Location Check */
  .location-check {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    padding: 12px;
    border-radius: 10px;
    margin: 12px 0;
    border-left: 4px solid var(--accent);
  }
  
  .location-check p {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 4px 0;
    color: var(--dark);
    font-size: 0.9rem;
  }
  
  .location-icon {
    color: var(--accent);
    font-size: 1rem;
  }
  
  .location-success {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
    border-left: 4px solid #28a745;
  }
  
  .location-error {
    background: linear-gradient(135deg, #f8d7da, #f5c6cb);
    border-left: 4px solid #e74c3c;
  }
  
  /* Form Styling */
  .form-group {
    margin-bottom: 15px;
  }
  
  label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600;
    color: var(--dark);
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.9rem;
  }
  
  input, textarea, select, button {
    width: 100%;
    padding: 12px 15px;
    margin: 6px 0;
    border-radius: 12px;
    border: 2px solid #e0e0e0;
    font-size: 15px;
    transition: all 0.3s ease;
    box-sizing: border-box;
  }
  
  input:focus, textarea:focus, select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(255, 102, 0, 0.2);
  }
  
  button {
    background: linear-gradient(135deg, var(--primary), #ff884d);
    color: white;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    border: none;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    box-shadow: 0 4px 12px rgba(255, 102, 0, 0.3);
  }
  
  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(255, 102, 0, 0.4);
  }
  
  button:disabled {
    background: linear-gradient(135deg, #cccccc, #aaaaaa);
    cursor: not-allowed;
    transform: none;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  
  #addProductBtn {
    background: linear-gradient(135deg, #28a745, #20c997);
    margin-bottom: 12px;
  }
  
  #addProductBtn:hover {
    box-shadow: 0 6px 16px rgba(40, 167, 69, 0.4);
  }
  
  .removeProductBtn {
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: none;
    color: white;
    margin-left: 8px;
    cursor: pointer;
    flex-shrink: 0;
    box-shadow: 0 2px 6px rgba(231, 76, 60, 0.3);
  }
  
  .removeProductBtn:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 10px rgba(231, 76, 60, 0.4);
  }
  
  .product-item {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    width: 100%;
  }
  
  .product-item input {
    flex: 1;
    margin: 0;
    min-width: 0;
  }
  
  .msg {
    text-align: center;
    margin-top: 12px;
    font-weight: bold;
    font-size: 15px;
    padding: 10px;
    border-radius: 8px;
  }
  
  .success-msg {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
    color: #155724;
    border: 1px solid #c3e6cb;
  }
  
  .error-msg {
    background: linear-gradient(135deg, #f8d7da, #f5c6cb);
    color: #721c24;
    border: 1px solid #f5c6cb;
  }
  
  .qr-container {
    display: none;
    text-align: center;
    margin-top: 12px;
    padding: 15px;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 12px;
    border: 2px solid #e0e0e0;
  }
  
  .qr-container img {
    width: 180px;
    max-width: 100%;
    border: 3px solid var(--primary);
    border-radius: 12px;
    margin-bottom: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  
  .qr-container p {
    margin-bottom: 12px;
    font-weight: 600;
    color: var(--dark);
    font-size: 1rem;
  }
  
  #clearAddress { 
    background: linear-gradient(135deg, #6c757d, #495057);
    margin-top: 8px;
  }
  
  #clearAddress:hover {
    box-shadow: 0 6px 16px rgba(108, 117, 125, 0.4);
  }
  
  .phone-check-info {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
    padding: 12px;
    border-radius: 10px;
    margin: 12px 0;
    border-left: 4px solid #28a745;
    text-align: center;
  }
  
  .phone-check-info h4 {
    color: #155724;
    margin-bottom: 8px;
    font-size: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }
  
  .phone-check-info p {
    color: #155724;
    margin-bottom: 8px;
    font-size: 0.9rem;
  }
  
  .service-expansion {
    background: linear-gradient(135deg, #d1ecf1, #bee5eb);
    padding: 12px;
    border-radius: 10px;
    margin: 12px 0;
    border-left: 4px solid #17a2b8;
    text-align: center;
  }
  
  .service-expansion h4 {
    color: #0c5460;
    margin-bottom: 8px;
    font-size: 1rem;
  }
  
  .service-expansion p {
    color: #0c5460;
    margin-bottom: 8px;
    font-size: 0.9rem;
  }
  
  .service-expansion-btn {
    background: linear-gradient(135deg, #17a2b8, #138496);
    color: white;
    padding: 8px 16px;
    border-radius: 25px;
    border: none;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
  }
  
  .service-expansion-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(23, 162, 184, 0.4);
  }
  
  /* Enhanced Success Animation - Mobile Friendly */
  .success-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    z-index: 9998;
    overflow-y: auto;
    padding: 15px;
  }
  
  .success-animation {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 9999;
    text-align: center;
    width: 100%;
    max-width: 350px;
    padding: 15px;
  }
  
  .success-card {
    background: linear-gradient(135deg, #28a745, #20c997);
    padding: 25px 20px;
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    color: white;
    width: 100%;
    position: relative;
    overflow: hidden;
    max-height: 90vh;
    overflow-y: auto;
  }
  
  .success-icon {
    font-size: 3.5rem;
    margin-bottom: 15px;
    animation: iconBounce 1s ease-in-out;
    text-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
  }
  
  @keyframes iconBounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0) scale(1);
    }
    40% {
      transform: translateY(-15px) scale(1.1);
    }
    60% {
      transform: translateY(-7px) scale(1.05);
    }
  }
  
  .success-title {
    font-size: 1.6rem;
    font-weight: bold;
    margin-bottom: 12px;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }
  
  .success-message {
    font-size: 1rem;
    line-height: 1.5;
    margin-bottom: 20px;
    opacity: 0.95;
  }
  
  .success-details {
    background: rgba(255, 255, 255, 0.15);
    padding: 15px;
    border-radius: 12px;
    margin: 15px 0;
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(5px);
    font-size: 0.9rem;
  }
  
  /* Reference Display */
  .reference-display {
    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
    padding: 12px;
    border-radius: 10px;
    margin: 12px 0;
    border: 2px dashed #ffc107;
    text-align: center;
  }
  
  .reference-display h4 {
    color: #856404;
    margin-bottom: 8px;
    font-size: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }
  
  .reference-id {
    font-size: 1.2rem;
    font-weight: bold;
    color: #e74c3c;
    background: white;
    padding: 8px 12px;
    border-radius: 6px;
    border: 2px solid #e74c3c;
    margin: 6px 0;
    display: inline-block;
    font-family: 'Courier New', monospace;
    letter-spacing: 1px;
    word-break: break-all;
    max-width: 100%;
    overflow-wrap: break-word;
  }
  
  .reference-note {
    color: #856404;
    font-size: 0.85rem;
    margin-top: 8px;
  }
  
  .success-actions {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 20px;
  }
  
  .close-btn {
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    border: 2px solid rgba(255, 255, 255, 0.4);
    color: white;
    padding: 10px 20px;
    border-radius: 25px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 0.9rem;
    width: 100%;
  }
  
  .close-btn:hover {
    background: linear-gradient(135deg, #c0392b, #a93226);
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
  }
  
  body.success-active .container { 
    opacity: 0.3;
    pointer-events: none;
    transform: scale(0.98);
  }
  
  /* Form Controls Group */
  .form-controls {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 15px;
  }
  
  /* Responsive Design */
  @media (max-width: 768px) {
    body {
      padding: 8px;
      align-items: flex-start;
    }
    
    .container {
      padding: 15px;
      margin: 8px auto;
      border-radius: 15px;
    }
    
    .header h2 {
      font-size: 1.6rem;
    }
    
    .header p {
      font-size: 0.9rem;
    }
    
    input, textarea, select, button {
      padding: 10px 12px;
      font-size: 14px;
    }
    
    .qr-container img {
      width: 160px;
    }
    
    .success-animation {
      max-width: 320px;
      padding: 10px;
    }
    
    .success-card {
      padding: 20px 15px;
    }
    
    .success-title {
      font-size: 1.4rem;
    }
    
    .success-icon {
      font-size: 3rem;
    }
    
    .reference-id {
      font-size: 1.1rem;
      padding: 6px 10px;
    }
  }
  
  @media (max-width: 480px) {
    body {
      padding: 5px;
    }
    
    .container {
      padding: 12px;
      margin: 5px auto;
      border-radius: 12px;
    }
    
    .header h2 {
      font-size: 1.4rem;
    }
    
    .header p {
      font-size: 0.85rem;
    }
    
    input, textarea, select, button {
      padding: 9px 10px;
      font-size: 13px;
    }
    
    .auth-check-container {
      padding: 25px 15px;
    }
    
    .auth-check h2 {
      font-size: 1.3rem;
    }
    
    .auth-check p {
      font-size: 0.9rem;
    }
    
    .success-animation {
      max-width: 300px;
    }
    
    .success-card {
      padding: 18px 12px;
    }
    
    .success-title {
      font-size: 1.3rem;
    }
    
    .success-icon {
      font-size: 2.8rem;
    }
    
    .success-details {
      padding: 12px;
      font-size: 0.85rem;
    }
    
    .reference-id {
      font-size: 1rem;
      padding: 5px 8px;
    }
    
    .success-actions {
      flex-direction: column;
    }
    
    .close-btn {
      width: 100%;
      padding: 9px 16px;
    }
    
    .removeProductBtn {
      width: 35px;
      height: 35px;
    }
  }
  
  @media (max-width: 360px) {
    .container {
      padding: 10px;
    }
    
    .header h2 {
      font-size: 1.3rem;
    }
    
    .success-animation {
      max-width: 280px;
    }
    
    .qr-container img {
      width: 140px;
    }
  }
</style>
</head>
<body>

<!-- Auth Check Screen -->
<div class="auth-check" id="authCheck">
  <div class="auth-check-container">
    <div class="auth-check-icon">
      <i class="fas fa-user-check"></i>
    </div>
    <h2>Checking Authentication</h2>
    <p>Verifying your login status...</p>
    <div class="msg" id="authCheckMsg"></div>
  </div>
</div>

<div class="container">
  <div class="header">
    <h2><i class="fas fa-shopping-cart"></i> Viksit Mart</h2>
    <p>Quick Order - Your details are saved automatically</p>
  </div>

  <!-- Not Logged In Message -->
  <div class="not-logged-in" id="notLoggedIn" style="display: none;">
    <h3><i class="fas fa-exclamation-circle"></i> Sign Up Required</h3>
    <p>To place an order, please sign up first:</p>
    
    <div class="signup-options">
      <div class="signup-option">
        <i class="fas fa-envelope"></i>
        <span>Email Sign Up</span>
      </div>
      <div class="signup-option">
        <i class="fab fa-google"></i>
        <span>Google Sign Up</span>
      </div>
      <div class="signup-option">
        <i class="fas fa-phone"></i>
        <span>Phone Sign Up</span>
      </div>
    </div>
    
    <p style="margin-top: 12px; font-size: 0.85rem;">
      <i class="fas fa-info-circle"></i> After signing up, return here
    </p>
  </div>

  <!-- User Info Display -->
  <div class="user-info" id="userInfo" style="display: none;">
    <p><i class="fas fa-user"></i> <span id="userName">User</span></p>
    <p><i class="fas fa-envelope"></i> <span id="userEmail">user@example.com</span></p>
    <p><i class="fas fa-id-card"></i> Customer ID: <span id="userId" style="font-size: 0.85rem;">---</span></p>
  </div>

  <!-- Saved Information Box -->
  <div class="saved-info-box" id="savedInfoBox" style="display: none;">
    <h4><i class="fas fa-save"></i> Your Saved Information</h4>
    <div class="saved-details" id="savedDetails"></div>
    <button type="button" id="editDetailsBtn" style="margin-top: 10px; padding: 8px 12px; font-size: 0.9rem;">
      <i class="fas fa-edit"></i> Edit Details
    </button>
  </div>

  <div class="gps-info">
    <h4><i class="fas fa-info-circle"></i> Why GPS is Required?</h4>
    <ul>
      <li>Verify you're in our service area (Buxar/Chausa)</li>
      <li>Fast and efficient delivery</li>
      <li>Location data used only for verification</li>
    </ul>
  </div>

  <div class="location-check" id="locationCheck" style="display: none;">
    <p><i class="fas fa-location-crosshairs location-icon"></i> <span id="locationStatus">Checking location...</span></p>
    <p id="locationDetails" style="font-size: 0.85rem;"></p>
  </div>

  <form id="orderForm">
    <!-- Location Check Button -->
    <div class="form-group">
      <button type="button" class="check-location-btn" id="checkLocationBtn" disabled>
        <i class="fas fa-map-marker-alt"></i> Please Login First
      </button>
    </div>

    <!-- Products Section (Always Required) -->
    <div class="form-group">
      <label for="productList"><i class="fas fa-box"></i> Products *</label>
      <div id="productList"></div>
      <button type="button" id="addProductBtn" disabled>
        <i class="fas fa-plus"></i> Add Product
      </button>
    </div>

    <!-- Customer Details Section (Hidden if saved) -->
    <div id="customerDetailsSection">
      <div class="form-group">
        <label for="name"><i class="fas fa-user"></i> Full Name *</label>
        <input type="text" id="name" placeholder="Enter your full name" required disabled>
      </div>

      <div class="form-group">
        <label for="phone"><i class="fas fa-phone"></i> Phone Number *</label>
        <input type="tel" id="phone" placeholder="10-digit phone number" pattern="[0-9]{10}" maxlength="10" required
          oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,10);" disabled>
      </div>

      <div class="form-group">
        <label for="address"><i class="fas fa-home"></i> Full Address *</label>
        <textarea id="address" placeholder="Enter your complete address" rows="2" required disabled></textarea>
      </div>

      <div class="form-group">
        <label for="landmark"><i class="fas fa-map-pin"></i> Landmark *</label>
        <input type="text" id="landmark" placeholder="Enter nearby landmark" required disabled>
      </div>

      <div class="form-group">
        <label for="pincode"><i class="fas fa-map-marked-alt"></i> Pincode *</label>
        <input type="text" id="pincode" placeholder="6-digit pincode" pattern="[0-9]{6}" maxlength="6" required
          oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,6);" disabled>
      </div>

      <div class="form-group">
        <label for="district"><i class="fas fa-city"></i> District/Block *</label>
        <select id="district" required disabled>
          <option value="">-- Select District/Block --</option>
          <option value="Buxar">Buxar</option>
          <option value="Dumraon">Dumraon</option>
          <option value="Chausa">Chausa</option>
        </select>
      </div>
    </div>

    <!-- Payment Method (Always Required) -->
    <div class="form-group">
      <label for="payment"><i class="fas fa-credit-card"></i> Payment Method *</label>
      <select id="payment" required onchange="toggleQR()" disabled>
        <option value="">-- Select Payment Method --</option>
        <option value="Cash on Delivery">ðŸ’µ Cash on Delivery</option>
        <option value="UPI Payment">ðŸ“² UPI Payment</option>
      </select>
    </div>

    <!-- UPI QR Code Section -->
    <div class="qr-container" id="qrBox">
      <p><i class="fas fa-qrcode"></i> Scan & pay using UPI</p>
      <img src="https://i.ibb.co/whCM01zy/IMG-20250917-062853.png" alt="UPI QR Code">
      <input type="text" id="transactionId" placeholder="Transaction ID (12-30 characters)"
        minlength="12" maxlength="30"
        pattern="^[A-Za-z0-9]{12,30}$"
        oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '').slice(0,30);"
        title="Transaction ID must be 12-30 characters" disabled>
    </div>

    <!-- Form Controls -->
    <div class="form-controls">
      <button type="submit" id="submitBtn" disabled>
        <i class="fas fa-user-lock"></i> Please Login First
      </button>
      
      <button type="button" id="clearAddress" disabled>
        <i class="fas fa-trash-alt"></i> Clear Saved Address
      </button>
    </div>
  </form>
  
  <!-- Contact Info -->
  <div class="phone-check-info">
    <h4><i class="fas fa-phone-volume"></i> Order Status Check</h4>
    <p>Check order status using your phone number</p>
    <p><strong>Call/WhatsApp: +91-XXXXXXXXXX</strong></p>
  </div>
  
  <!-- Service Expansion -->
  <div class="service-expansion">
    <h4><i class="fas fa-bullhorn"></i> Service Expansion</h4>
    <p>Currently serving Buxar and Chausa areas only.</p>
    <button class="service-expansion-btn" onclick="showExpansionForm()">
      <i class="fas fa-envelope"></i> Notify Me
    </button>
  </div>
  
  <!-- Messages -->
  <div class="msg" id="msg"></div>
</div>

<!-- Enhanced Success Animation -->
<div class="success-overlay" id="successOverlay"></div>
<div class="success-animation" id="successAnimation">
  <div class="success-card">
    <div class="success-icon">
      <i class="fas fa-check-circle"></i>
    </div>
    
    <div class="success-title">
      Order Successful!
    </div>
    
    <div class="success-message">
      Your order has been placed successfully
    </div>
    
    <div class="success-details" id="successDetails">
      <!-- Order details will be inserted here -->
    </div>

    <!-- Reference Display -->
    <div class="reference-display" id="referenceDisplay">
      <h4><i class="fas fa-receipt"></i> Your Reference Details</h4>
      <p><strong>Customer ID:</strong> <br><span class="reference-id" id="customerId">---</span></p>
      <p><strong>Order Reference:</strong> <br><span class="reference-id" id="orderRef">---</span></p>
      <p class="reference-note">
        <i class="fas fa-info-circle"></i> 
        Save these details for tracking
      </p>
    </div>

    <div class="phone-check-info" style="margin: 12px 0; padding: 10px;">
      <h4><i class="fas fa-phone-volume"></i> Check Order Status</h4>
      <p>Track using your Customer ID</p>
      <p><strong>Call/WhatsApp: +91-7643033158</strong></p>
      <p style="font-size: 0.85rem; margin-top: 8px;">
        <i class="fas fa-user-shield"></i> Provide Customer ID for verification
      </p>
    </div>
    
    <div class="success-actions">
      <button class="close-btn" onclick="closeSuccess()">
        <i class="fas fa-times"></i> Close
      </button>
    </div>
  </div>
</div>

<script type="module">
// âœ… FIREBASE CONFIGURATION
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { 
  getAuth, 
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
import { 
  getDatabase, 
  ref, 
  push, 
  set 
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBI0c_MOpMBSU9Hq8ftNNYuZBeZjd_cam8",
  authDomain: "self-devloper.firebaseapp.com",
  databaseURL: "https://self-devloper-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "self-devloper",
  storageBucket: "self-devloper.firebasestorage.app",
  messagingSenderId: "677828342615",
  appId: "1:677828342615:web:03774122cbbb5f3dc50412",
  measurementId: "G-RW5ST7RK75"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getDatabase(app);

// DOM Elements
const authCheck = document.getElementById('authCheck');
const authCheckMsg = document.getElementById('authCheckMsg');
const notLoggedIn = document.getElementById('notLoggedIn');
const userInfo = document.getElementById('userInfo');
const userName = document.getElementById('userName');
const userEmail = document.getElementById('userEmail');
const userId = document.getElementById('userId');
const savedInfoBox = document.getElementById('savedInfoBox');
const savedDetails = document.getElementById('savedDetails');
const customerDetailsSection = document.getElementById('customerDetailsSection');
const editDetailsBtn = document.getElementById('editDetailsBtn');

let isLocationValid = false;
let currentUser = null;
let hasSavedAddress = false;
let isEditingDetails = false;

// Authentication State Management
onAuthStateChanged(auth, (user) => {
  console.log("Auth state changed:", user);
  
  // Hide auth check after 1.5 seconds
  setTimeout(() => {
    authCheck.style.display = 'none';
  }, 1500);
  
  if (user) {
    // User is signed in
    currentUser = user;
    authCheckMsg.innerHTML = '<div class="msg success-msg"><i class="fas fa-check-circle"></i> You are logged in!</div>';
    
    // Show user info
    userInfo.style.display = 'block';
    notLoggedIn.style.display = 'none';
    
    // Display user details
    userName.textContent = user.displayName || user.email.split('@')[0];
    userEmail.textContent = user.email;
    userId.textContent = user.uid.substring(0, 8) + '...'; // Shortened ID
    
    // Enable form elements
    enableFormElements();
    
    // Load saved address if available
    checkAndLoadSavedAddress();
    
    // Auto-check location
    checkLocation();
  } else {
    // User is signed out
    currentUser = null;
    authCheckMsg.innerHTML = '<div class="msg error-msg"><i class="fas fa-exclamation-triangle"></i> You are not logged in</div>';
    
    // Show not logged in message
    notLoggedIn.style.display = 'block';
    userInfo.style.display = 'none';
    savedInfoBox.style.display = 'none';
    
    // Disable form elements
    disableFormElements();
    
    // Clear form
    document.getElementById("orderForm").reset();
  }
});

// Check and load saved address
function checkAndLoadSavedAddress() {
  if (!currentUser) return;
  
  const saved = JSON.parse(localStorage.getItem(`customerInfo_${currentUser.uid}`));
  if (saved && saved.name && saved.phone && saved.address) {
    hasSavedAddress = true;
    
    // Show saved info box
    savedInfoBox.style.display = 'block';
    
    // Populate saved details
    savedDetails.innerHTML = `
      <div class="saved-detail">
        <i class="fas fa-user"></i>
        <span><strong>Name:</strong> ${saved.name}</span>
      </div>
      <div class="saved-detail">
        <i class="fas fa-phone"></i>
        <span><strong>Phone:</strong> ${saved.phone.replace('+91', '')}</span>
      </div>
      <div class="saved-detail">
        <i class="fas fa-map-marker-alt"></i>
        <span><strong>Area:</strong> ${saved.district || 'Not specified'}</span>
      </div>
    `;
    
    // Hide customer details section
    customerDetailsSection.style.display = 'none';
    
    // Fill form fields with saved data (hidden)
    document.getElementById("name").value = saved.name || "";
    document.getElementById("phone").value = saved.phone?.replace("+91","") || "";
    document.getElementById("address").value = saved.address || "";
    document.getElementById("landmark").value = saved.landmark || "";
    document.getElementById("pincode").value = saved.pincode || "";
    document.getElementById("district").value = saved.district || "";
  } else {
    hasSavedAddress = false;
    savedInfoBox.style.display = 'none';
    customerDetailsSection.style.display = 'block';
  }
}

// Enable form elements when logged in
function enableFormElements() {
  document.getElementById('checkLocationBtn').disabled = false;
  document.getElementById('checkLocationBtn').innerHTML = '<i class="fas fa-map-marker-alt"></i> Check Service Availability';
  
  document.getElementById('addProductBtn').disabled = false;
  
  // Enable fields based on edit mode or new user
  if (isEditingDetails || !hasSavedAddress) {
    document.getElementById('name').disabled = false;
    document.getElementById('phone').disabled = false;
    document.getElementById('address').disabled = false;
    document.getElementById('landmark').disabled = false;
    document.getElementById('pincode').disabled = false;
    document.getElementById('district').disabled = false;
  }
  
  document.getElementById('payment').disabled = false;
  document.getElementById('transactionId').disabled = false;
  document.getElementById('clearAddress').disabled = false;
  document.getElementById('editDetailsBtn').disabled = false;
  
  // Update submit button based on location
  const submitBtn = document.getElementById('submitBtn');
  submitBtn.disabled = !isLocationValid;
  submitBtn.innerHTML = isLocationValid ? 
    '<i class="fas fa-paper-plane"></i> Place Order' : 
    '<i class="fas fa-map-marker-alt"></i> Check Location First';
}

// Disable form elements when not logged in
function disableFormElements() {
  document.getElementById('checkLocationBtn').disabled = true;
  document.getElementById('checkLocationBtn').innerHTML = '<i class="fas fa-user-lock"></i> Please Login First';
  
  document.getElementById('addProductBtn').disabled = true;
  
  document.getElementById('name').disabled = true;
  document.getElementById('phone').disabled = true;
  document.getElementById('address').disabled = true;
  document.getElementById('landmark').disabled = true;
  document.getElementById('pincode').disabled = true;
  document.getElementById('district').disabled = true;
  document.getElementById('payment').disabled = true;
  document.getElementById('transactionId').disabled = true;
  document.getElementById('clearAddress').disabled = true;
  document.getElementById('editDetailsBtn').disabled = true;
  
  document.getElementById('submitBtn').disabled = true;
  document.getElementById('submitBtn').innerHTML = '<i class="fas fa-user-lock"></i> Please Login First';
}

// GPS Location Validation for Buxar and Chausa
function checkLocation() {
  const locationCheck = document.getElementById('locationCheck');
  const locationStatus = document.getElementById('locationStatus');
  const locationDetails = document.getElementById('locationDetails');
  const submitBtn = document.getElementById('submitBtn');
  
  if (!navigator.geolocation) {
    locationStatus.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Geolocation not supported';
    locationDetails.textContent = 'Please enable location services to check availability.';
    locationCheck.style.display = 'block';
    locationCheck.className = 'location-check location-error';
    isLocationValid = false;
    if (currentUser) {
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<i class="fas fa-map-marker-slash"></i> Location Required';
    }
    return;
  }
  
  locationStatus.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Checking your location...';
  locationDetails.textContent = '';
  locationCheck.style.display = 'block';
  locationCheck.className = 'location-check';
  
  navigator.geolocation.getCurrentPosition(
    function(position) {
      const latitude = position.coords.latitude;
      const longitude = position.coords.longitude;
      
      // Check if location is within Buxar or Chausa area
      const isInServiceArea = checkIfInServiceArea(latitude, longitude);
      
      if (isInServiceArea) {
        locationStatus.innerHTML = '<i class="fas fa-check-circle"></i> Service Available';
        locationDetails.innerHTML = `
          <i class="fas fa-map-marker-alt location-icon"></i> You are in our service area (Buxar/Chausa)<br>
          <i class="fas fa-info-circle location-icon"></i> Latitude: ${latitude.toFixed(6)}<br>
          <i class="fas fa-info-circle location-icon"></i> Longitude: ${longitude.toFixed(6)}
        `;
        locationCheck.className = 'location-check location-success';
        isLocationValid = true;
        if (currentUser) {
          submitBtn.disabled = false;
          submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Place Order';
        }
      } else {
        locationStatus.innerHTML = '<i class="fas fa-times-circle"></i> Service Not Available';
        locationDetails.innerHTML = `
          <i class="fas fa-map-marker-slash location-icon"></i> Sorry, we currently only serve Buxar and Chausa areas<br>
          <i class="fas fa-info-circle location-icon"></i> Your location is outside our service zone
        `;
        locationCheck.className = 'location-check location-error';
        isLocationValid = false;
        if (currentUser) {
          submitBtn.disabled = true;
          submitBtn.innerHTML = '<i class="fas fa-ban"></i> Outside Service Area';
        }
      }
    },
    function(error) {
      let errorMessage = "Unable to retrieve your location. ";
      switch(error.code) {
        case error.PERMISSION_DENIED:
          errorMessage += "Please allow location access to place orders.";
          break;
        case error.POSITION_UNAVAILABLE:
          errorMessage += "Location information is unavailable.";
          break;
        case error.TIMEOUT:
          errorMessage += "Location request timed out.";
          break;
        default:
          errorMessage += "An unknown error occurred.";
          break;
      }
      
      locationStatus.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Location Error';
      locationDetails.textContent = errorMessage;
      locationCheck.style.display = 'block';
      locationCheck.className = 'location-check location-error';
      isLocationValid = false;
      if (currentUser) {
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i class="fas fa-map-marker-slash"></i> Location Required';
      }
    },
    {
      enableHighAccuracy: true,
      timeout: 10000,
      maximumAge: 60000
    }
  );
}

function checkIfInServiceArea(lat, lng) {
  // Approximate coordinates for Buxar and Chausa areas
  const buxarLat = 25.5811;
  const buxarLng = 83.9787;
  const chausaLat = 25.5083;
  const chausaLng = 83.8861;
  const serviceRadius = 15;

  function calculateDistance(lat1, lng1, lat2, lng2) {
    const R = 6371;
    const dLat = (lat2 - lat1) * Math.PI / 180;
    const dLng = (lng2 - lng1) * Math.PI / 180;
    const a = 
      Math.sin(dLat/2) * Math.sin(dLat/2) +
      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
      Math.sin(dLng/2) * Math.sin(dLng/2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    return R * c;
  }
  
  const distanceToBuxar = calculateDistance(lat, lng, buxarLat, buxarLng);
  const distanceToChausa = calculateDistance(lat, lng, chausaLat, chausaLng);
  
  return distanceToBuxar <= serviceRadius || distanceToChausa <= serviceRadius;
}

window.toggleQR = function() {
  const payment = document.getElementById("payment").value;
  const qrBox = document.getElementById("qrBox");
  qrBox.style.display = (payment === "UPI Payment") ? "block" : "none";
};

// Product Management
const productList = document.getElementById("productList");

function createProductInput(value='') {
  const wrapper = document.createElement("div");
  wrapper.classList.add("product-item");
  const input = document.createElement("input");
  input.type = "text";
  input.name = "product[]";
  input.placeholder = "Enter Product Name or Code";
  input.required = true;
  input.value = value;
  const removeBtn = document.createElement("button");
  removeBtn.type = "button";
  removeBtn.innerHTML = '<i class="fas fa-times"></i>';
  removeBtn.classList.add("removeProductBtn");
  removeBtn.addEventListener("click", ()=>wrapper.remove());
  wrapper.appendChild(input);
  wrapper.appendChild(removeBtn);
  return wrapper;
}

productList.appendChild(createProductInput());

document.getElementById("addProductBtn").addEventListener("click", ()=>{
  productList.appendChild(createProductInput());
});

// Edit Details Button
editDetailsBtn.addEventListener("click", function() {
  isEditingDetails = !isEditingDetails;
  
  if (isEditingDetails) {
    // Show edit mode
    customerDetailsSection.style.display = 'block';
    this.innerHTML = '<i class="fas fa-save"></i> Save Details';
    this.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
    
    // Enable fields for editing
    document.getElementById('name').disabled = false;
    document.getElementById('phone').disabled = false;
    document.getElementById('address').disabled = false;
    document.getElementById('landmark').disabled = false;
    document.getElementById('pincode').disabled = false;
    document.getElementById('district').disabled = false;
  } else {
    // Save and hide
    saveCustomerDetails();
    customerDetailsSection.style.display = 'none';
    this.innerHTML = '<i class="fas fa-edit"></i> Edit Details';
    this.style.background = 'linear-gradient(135deg, var(--accent), #3498db)';
    
    // Update saved info display
    checkAndLoadSavedAddress();
  }
});

// Save customer details to local storage
function saveCustomerDetails() {
  if (!currentUser) return;
  
  const customerData = {
    name: document.getElementById("name").value,
    phone: "+91" + document.getElementById("phone").value,
    address: document.getElementById("address").value,
    landmark: document.getElementById("landmark").value,
    pincode: document.getElementById("pincode").value,
    district: document.getElementById("district").value,
    lastUpdated: new Date().toISOString()
  };
  
  localStorage.setItem(`customerInfo_${currentUser.uid}`, JSON.stringify(customerData));
  hasSavedAddress = true;
  
  // Show success message
  document.getElementById("msg").innerHTML = '<div class="msg success-msg"><i class="fas fa-check-circle"></i> Details saved successfully!</div>';
  setTimeout(() => {
    document.getElementById("msg").innerHTML = '';
  }, 3000);
}

// Check location when button clicked
document.getElementById("checkLocationBtn").addEventListener("click", checkLocation);

// Clear Address Button
document.getElementById("clearAddress").addEventListener("click", function() {
  if (currentUser) {
    if (confirm("Are you sure you want to clear your saved address?")) {
      localStorage.removeItem(`customerInfo_${currentUser.uid}`);
      hasSavedAddress = false;
      savedInfoBox.style.display = 'none';
      customerDetailsSection.style.display = 'block';
      isEditingDetails = false;
      editDetailsBtn.innerHTML = '<i class="fas fa-edit"></i> Edit Details';
      editDetailsBtn.style.background = 'linear-gradient(135deg, var(--accent), #3498db)';
      
      document.getElementById("msg").innerHTML = '<div class="msg success-msg"><i class="fas fa-check-circle"></i> Saved address cleared!</div>';
      setTimeout(() => {
        document.getElementById("msg").innerHTML = '';
      }, 3000);
      
      document.getElementById("orderForm").reset();
      productList.innerHTML = '';
      productList.appendChild(createProductInput());
    }
  }
});

function showSuccessAnimation(orderData, orderRefId) {
  const successOverlay = document.getElementById('successOverlay');
  const successAnimation = document.getElementById('successAnimation');
  const successDetails = document.getElementById('successDetails');
  const customerIdElement = document.getElementById('customerId');
  const orderRefElement = document.getElementById('orderRef');
  
  // Set order details
  successDetails.innerHTML = `
    <div style="text-align: left; font-size: 0.9rem;">
      <p><i class="fas fa-user"></i> <strong>Name:</strong> ${orderData.name}</p>
      <p><i class="fas fa-box"></i> <strong>Products:</strong> ${orderData.products.join(', ')}</p>
      <p><i class="fas fa-phone"></i> <strong>Phone:</strong> ${orderData.phone}</p>
      <p><i class="fas fa-map-marker-alt"></i> <strong>Area:</strong> ${orderData.district}</p>
      <p><i class="fas fa-clock"></i> <strong>Time:</strong> ${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</p>
    </div>
  `;
  
  // Set Customer ID and Order Reference
  customerIdElement.textContent = currentUser.uid.substring(0, 8) + '...';
  orderRefElement.textContent = orderRefId;
  
  // Show animation
  successOverlay.style.display = 'block';
  successAnimation.style.display = 'block';
  document.body.classList.add('success-active');
  
  // Auto close after 30 seconds
  setTimeout(() => {
    if (successOverlay.style.display === 'block') {
      closeSuccess();
    }
  }, 30000);
}

function closeSuccess() {
  const successOverlay = document.getElementById('successOverlay');
  const successAnimation = document.getElementById('successAnimation');
  
  successOverlay.style.display = 'none';
  successAnimation.style.display = 'none';
  document.body.classList.remove('success-active');
  
  // Reset only products and payment
  productList.innerHTML = '';
  productList.appendChild(createProductInput());
  document.getElementById("payment").value = "";
  document.getElementById("transactionId").value = "";
  toggleQR();
  
  // Success message
  document.getElementById("msg").innerHTML = `
    <div class="msg success-msg">
      <i class="fas fa-check-circle"></i> Order placed! You can place another order.
    </div>
  `;
  
  // Auto-hide message
  setTimeout(() => {
    document.getElementById("msg").innerHTML = '';
  }, 5000);
  
  // Location check again
  checkLocation();
}

function showExpansionForm() {
  alert("Thank you for your interest! We'll notify you when we expand our services to your area.");
}

// Form Submission
document.getElementById("orderForm").addEventListener("submit", function(e){
  e.preventDefault();
  
  if (!currentUser) {
    document.getElementById("msg").innerHTML = '<div class="msg error-msg"><i class="fas fa-exclamation-triangle"></i> Please sign up first to place order.</div>';
    return;
  }
  
  if (!isLocationValid) {
    document.getElementById("msg").innerHTML = '<div class="msg error-msg"><i class="fas fa-exclamation-triangle"></i> Please check your location first. We only serve Buxar and Chausa areas.</div>';
    return;
  }
  
  // Validate required fields
  if (!hasSavedAddress && isEditingDetails) {
    const name = document.getElementById("name").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const address = document.getElementById("address").value.trim();
    
    if (!name || !phone || phone.length !== 10 || !address) {
      document.getElementById("msg").innerHTML = '<div class="msg error-msg"><i class="fas fa-exclamation-triangle"></i> Please fill all required customer details.</div>';
      return;
    }
  }
  
  const products = Array.from(document.querySelectorAll('input[name="product[]"]')).map(inp=>inp.value.trim()).filter(p => p !== '');
  
  if (products.length === 0) {
    document.getElementById("msg").innerHTML = '<div class="msg error-msg"><i class="fas fa-exclamation-triangle"></i> Please add at least one product.</div>';
    return;
  }
  
  const payment = document.getElementById("payment").value;
  if (!payment) {
    document.getElementById("msg").innerHTML = '<div class="msg error-msg"><i class="fas fa-exclamation-triangle"></i> Please select a payment method.</div>';
    return;
  }
  
  if (payment === "UPI Payment") {
    const transactionId = document.getElementById("transactionId").value.trim();
    if (!transactionId || transactionId.length < 12) {
      document.getElementById("msg").innerHTML = '<div class="msg error-msg"><i class="fas fa-exclamation-triangle"></i> Please enter a valid Transaction ID (12-30 characters).</div>';
      return;
    }
  }
  
  // Get customer data (either from form or saved)
  let customerData = {};
  if (hasSavedAddress && !isEditingDetails) {
    // Use saved data
    const saved = JSON.parse(localStorage.getItem(`customerInfo_${currentUser.uid}`));
    customerData = saved;
  } else {
    // Use form data
    customerData = {
      name: document.getElementById("name").value,
      phone: "+91" + document.getElementById("phone").value,
      address: document.getElementById("address").value,
      landmark: document.getElementById("landmark").value,
      pincode: document.getElementById("pincode").value,
      district: document.getElementById("district").value
    };
    
    // Save to local storage
    localStorage.setItem(`customerInfo_${currentUser.uid}`, JSON.stringify(customerData));
    hasSavedAddress = true;
    isEditingDetails = false;
    editDetailsBtn.innerHTML = '<i class="fas fa-edit"></i> Edit Details';
    editDetailsBtn.style.background = 'linear-gradient(135deg, var(--accent), #3498db)';
  }
  
  // âœ… Use Firebase push() auto-generated ID
  const newOrderRef = push(ref(db,"orders"));
  const orderRefId = newOrderRef.key; // Firebase auto-generated ID
  
  const orderData = {
    products: products,
    name: customerData.name,
    phone: customerData.phone,
    address: customerData.address,
    landmark: customerData.landmark,
    pincode: customerData.pincode,
    district: customerData.district,
    payment: payment,
    transactionId: payment === "UPI Payment" ? document.getElementById("transactionId").value.trim() : "N/A",
    time: new Date().toLocaleString(),
    timestamp: Date.now(),
    status: "Pending",
    userId: currentUser.uid,
    userEmail: currentUser.email
  };

  set(newOrderRef, orderData)
    .then(()=>{
      // Hide customer details section if saved
      if (hasSavedAddress && !isEditingDetails) {
        customerDetailsSection.style.display = 'none';
      }
      
      // Update saved info display
      checkAndLoadSavedAddress();
      
      // Show success animation
      showSuccessAnimation(orderData, orderRefId);
    })
    .catch(err=>{
      document.getElementById("msg").innerHTML = `<div class="msg error-msg"><i class="fas fa-exclamation-triangle"></i> Error: ${err.message}</div>`;
    });
});

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
  // Make sure form fits screen
  const container = document.querySelector('.container');
  const form = document.getElementById('orderForm');
  
  // Ensure no horizontal scroll
  document.body.style.overflowX = 'hidden';
  container.style.overflowX = 'hidden';
  form.style.overflowX = 'hidden';
  
  // Add responsive adjustments
  window.addEventListener('resize', function() {
    if (window.innerWidth < 768) {
      document.querySelectorAll('input, textarea, select').forEach(el => {
        el.style.fontSize = '14px';
      });
    }
  });
});
</script>

</body>
</html>